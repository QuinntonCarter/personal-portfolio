(this.webpackJsonpcapstone4redo=this.webpackJsonpcapstone4redo||[]).push([[0],{47:function(t,e,c){},48:function(t,e,c){"use strict";c.r(e);var a=c(0),o=c.n(a),n=c(23),r=c.n(n),i=c(2),s=c(11),l=c(14),d=c(3),b=c(8),u=c.n(b),m=c(7),j=c(1),h=o.a.createContext();function x(t){var e=Object(a.useState)({data:""}),c=Object(d.a)(e,2),o=c[0],n=c[1],r=Object(a.useState)({data:""}),s=Object(d.a)(r,2),l=s[0],b=s[1],x=Object(a.useState)(!1),f=Object(d.a)(x,2),g=f[0],p=f[1],O=Object(i.f)(),y=Object(a.useState)({}),v=Object(d.a)(y,2),w=v[0],N=v[1],C=Object(a.useState)(""),S=Object(d.a)(C,2),k=(S[0],S[1]),M=new Date,D=[];function H(t){var e=m.a.addDays(M,+t);return m.a.format(e,"dddd MM DD")}for(var L=0;L<=2;L++){var z=H(L);D.push(z)}return Object(a.useEffect)((function(){u.a.get("https://ipapi.co/json/").then((function(t){return u.a.get("http://api.weatherapi.com/v1/current.json?key=fdd79d1d2ca9485abab32815211205&q=".concat(t.data.city)).then((function(t){return n({data:t.data})})).catch((function(t){return console.log(t)}))})).catch((function(t){return console.log(t)})),u.a.get("https://ipapi.co/json/").then((function(t){return b({data:t.data})})).catch((function(t){return console.log(t)})),k(m.a.format(M,"dddd MM DD"))}),[]),Object(j.jsx)(h.Provider,{value:{now:M,ipData:l,autoLocation:o,getForecast:function(t){u.a.get("http://api.weatherapi.com/v1/forecast.json?key=fdd79d1d2ca9485abab32815211205&q=".concat(t,"&days=7&aqi=yes")).then((function(t){return N(t.data)})).catch((function(t){return console.log(t)})).finally((function(){O("/searchForecast")}))},searchedLocation:w,setSearchedLocation:N,setToggle:p,toggle:g,forecastDays:D},children:t.children})}function f(t){var e=Object(a.useContext)(h),c=e.autoLocation,o=e.forecastDays,n=e.getForecast,r=e.ipData,i=t.timeStyle,b=t.tempStyle,u=Object(a.useState)({location:""}),m=Object(d.a)(u,2),x=m[0],f=m[1];function g(t){t.preventDefault(),n(x.location)}return Object(j.jsxs)("form",{onSubmit:g,className:"grid rounded-lg p-12 grid-cols-1 grid-rows-1 bg-".concat(i().bgColor," bg-opacity-60 m-auto"),children:[Object(j.jsx)("h1",{className:"text-7xl pb-3",children:Object(j.jsx)("i",{className:"".concat(i().icon," ").concat(b())})}),Object(j.jsx)("input",{required:!0,style:{fontSize:"70%"},className:"bg-gray-200 rounded-xl m-4 p-1 w-40 h-10 text-center text-black mx-auto",name:"location",value:x.location,onChange:function(t){var e=t.target,c=e.name,a=e.value;f((function(t){return Object(l.a)(Object(l.a)({},t),{},Object(s.a)({},c,a))}))},placeholder:"enter city or zip code"}),Object(j.jsx)("button",{className:"font-medium m-2 shadow hover:bg-".concat(i().btnColorH," text-white bg-").concat(i().btnColor," p-3 rounded-full"),onClick:function(){return x.location.length>0?g:null},children:" check forecast "}),c.data?Object(j.jsxs)("div",{className:"m-4 grid grid-cols-1 mx-auto place-items-center",children:[Object(j.jsxs)("h2",{className:"font-medium text-xl",children:[" ",o[0]," "]}),Object(j.jsxs)("h1",{className:"font-medium text-lg",children:[" ","".concat(r.data.city,", ").concat(r.data.region,", ").concat(r.data.country)," "]}),Object(j.jsxs)("h2",{className:"font-bold",style:{fontSize:"250%"},children:[" ",Math.floor(c.data.current.temp_f),"\u02daF"]}),Object(j.jsx)("img",{className:"font-medium text-lg",src:c.data.current.condition.icon,alt:"condition visual"}),Object(j.jsxs)("h3",{className:"font-medium text-lg",children:[" ",c.data.current.condition.text]}),Object(j.jsxs)("h4",{children:[" Humidity: ",c.data.current.humidity,"% "]})]}):Object(j.jsxs)("div",{className:"bg-blue-600",children:[Object(j.jsx)("svg",{className:"animate-spin h-5 w-5 mr-3 ...",viewBox:"0 0 24 24"}),"Loading"]})]})}var g=c(6);function p(t){var e=Object(a.useContext)(h),c=e.searchedLocation,o=e.setSearchedLocation,n=e.forecastDays,r=e.ipData,i=t.timeStyle,s=t.timedFont;return Object(j.jsx)("div",{className:"grid rounded-lg p-6 text-".concat(s," grid-cols-1 grid-rows-1 bg-").concat(i().bgColor," bg-opacity-60 m-auto"),children:c.location?Object(j.jsx)("div",{className:"m-4 grid grid-cols-1 mx-auto place-items-center",children:Object(j.jsxs)("div",{className:"grid bg-gray-500 rounded mx-auto place-items-center",children:[Object(j.jsxs)("span",{className:"bg-gray-800 p-4 grid mx-auto place-items-center opacity-80 rounded mb-4",children:[Object(j.jsxs)("h2",{className:"font-medium text-xl",children:[" ",n[0]," "]}),Object(j.jsxs)("h1",{className:"font-medium text-lg",children:[" ","".concat(r.data.city,", ").concat(r.data.region,", ").concat(r.data.country)," "]}),Object(j.jsxs)("h1",{className:"font-bold text-3xl",children:[" ",Math.floor(c.current.temp_f),"\u02da "]}),Object(j.jsx)("img",{src:c.current.condition.icon,alt:"condition description"}),Object(j.jsxs)("h2",{children:[" ",c.current.condition.text," "]}),Object(j.jsxs)("h3",{children:[" Humidity: ",c.current.humidity,"% "]})]}),Object(j.jsxs)("h3",{className:"font-medium text-xl",children:[" ",n[1]," "]}),Object(j.jsxs)("h2",{className:"font-bold text-3xl",children:[" ",Math.floor(c.forecast.forecastday[1].day.avgtemp_f),"\u02da "]}),Object(j.jsx)("img",{src:c.forecast.forecastday[1].day.condition.icon,alt:"condition visual"}),Object(j.jsxs)("h4",{className:"font-medium text-lg",children:[" ",c.forecast.forecastday[1].day.condition.text," "]}),Object(j.jsx)("h2",{className:"font-extrabold text-5xl p-1",children:" & "}),Object(j.jsxs)("h3",{className:"font-medium text-xl",children:[" ",n[2]," "]}),Object(j.jsxs)("h2",{className:"font-bold text-3xl",children:[" ",Math.floor(c.forecast.forecastday[2].day.avgtemp_f),"\u02da "]}),Object(j.jsx)("img",{src:c.forecast.forecastday[2].day.condition.icon,alt:"condition visual"}),Object(j.jsxs)("h4",{className:"font-medium text-lg",children:[" ",c.forecast.forecastday[2].day.condition.text," "]}),Object(j.jsx)(g.b,{to:"/",children:Object(j.jsx)("button",{style:{fontSize:"70%"},className:"font-medium m-2 shadow hover:bg-gray-700 text-white bg-gray-600 p-2 rounded-full",onClick:function(){return o("")},children:" new location "})})]})}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h2",{children:" Loading ... "}),Object(j.jsx)(g.b,{to:"/",children:Object(j.jsx)("button",{style:{fontSize:"70%"},className:"font-medium m-2 shadow hover:bg-gray-700 text-white bg-gray-500 p-3 rounded-full",onClick:function(){return o("")},children:" new location "})})]})})}function O(){var t=Object(a.useContext)(h),e=t.now,c=t.autoLocation,o=(t.searchedLocation,m.a.format(e,"HH:mm")),n=(Object(i.f)(),function(){return o>"06:00"&o<"17:45"?{img:"https://images.unsplash.com/photo-1610736702440-9dfab24cd7da?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8Y2xvdWRzJTIwaW4lMjBza3l8ZW58MHx8MHx8&w=1000&q=80",textColor:"black"}:o>"17:46"&o<"18:59"?{img:"https://i.pinimg.com/736x/0b/86/0d/0b860d32fc7b0bff00ac320137305e8f.jpg",textColor:"white"}:{img:"https://media.istockphoto.com/videos/thunderstorm-clouds-at-night-with-lightning-4k-timelapse-loop-video-id875093832?s=640x640",textColor:"white"}}),r=function(){return!!c.data&&Math.floor(c.data.current.temp_f)<=35?"far fa-snowflake":""},s=function(){var t=m.a.format(e,"HH:mm");return t>"06:00"&t<"11:59"?{icon:"fas fa-sun text-yellow-400 opacity-80",bgColor:"white",btnColor:"blue-200",btnColorH:"blue-500"}:t>"12:00"&t<"14:49"?{icon:"fas fa-sun text-yellow-500 opacity-80",bgColor:"white",btnColor:"blue-200",btnColorH:"blue-500"}:t>"17:46"&t<"18:59"?{icon:"fas fa-sun text-yellow-600 opacity-80",bgColor:"gray-200",btnColor:"blue-500",btnColorH:"blue-700"}:{icon:"far fa-moon text-blue-900 opacity-70",bgColor:"gray-200",btnColor:"blue-600",btnColorH:"blue-700"}};return Object(j.jsxs)("div",{style:{backgroundImage:"url(".concat(n().img,")"),backgroundPosition:"center",backgroundSize:"cover"},className:"grid pb-20 items-center text-center text-".concat(n().textColor," justify-center h-screen border-solid border-8 border-white"),children:[Object(j.jsx)("i",{className:"fas fa-umbrella text-".concat(n().textColor," text-xl")}),Object(j.jsxs)(i.c,{children:[Object(j.jsx)(i.a,{path:"/",element:Object(j.jsx)(f,{timeStyle:s,timedFont:n().textColor,tempStyle:r})}),Object(j.jsx)(i.a,{path:"/searchForecast",element:Object(j.jsx)(p,{timeStyle:s,tempStyle:r})})]})]})}c(47);r.a.render(Object(j.jsx)(g.a,{children:Object(j.jsx)(x,{children:Object(j.jsx)(O,{})})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.8f1b09b1.chunk.js.map